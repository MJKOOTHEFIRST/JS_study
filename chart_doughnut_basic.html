<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>실시간 생산량</title>

    <style>
        .chart-container {
            display: flex;
            justify-content: space-around;
            align-items: center; /* 중앙 정렬을 위해 추가 */
            width: 30%;
        }

        .myChartDiv {
            flex-basis: 120px;
            height: auto;
        }

        .divider { /* 세로선 추가 */
            height: 150px; /* 선의 높이 */
            width: 1px; /* 선의 너비 */
            background-color: grey; /* 선의 색상 */
        }
    </style>
</head>
<body>
    <div class="chart-container">
        <div class="myChartDiv">
            <canvas id="eProductionChart"></canvas>
        </div>
        <div class="divider"></div> <!-- 세로선을 추가하는 div -->
        <div class="myChartDiv">
            <canvas id="tProductionChart"></canvas>
        </div>
    </div>

    <!-- CDN으로 chart.js include하기 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      
    <script>
   // 차트 데이터를 로드하는 함수
function loadChartData() {
    const e_production = 1.1; // 전기발전량 데이터
    const t_production = 0.7; // 열 발전량 데이터

    const eProductionPercent = e_production * 100;
    const tProductionPercent = t_production * 100;

    // 왼쪽 차트 (하늘색)
    createDoughnutChart('eProductionChart', eProductionPercent, '전기발전량', 'skyblue');
    // 오른쪽 차트 (핑크색)
    createDoughnutChart('tProductionChart', tProductionPercent, '열 발전량', 'pink');
}

// 도넛 차트 생성 함수
function createDoughnutChart(canvasId, productionPercent, label, color) {
    const ctx = document.getElementById(canvasId).getContext('2d');
    new Chart(ctx, {
        type: 'doughnut',
        data: {
            datasets: [{
                data: [productionPercent, 100 - productionPercent],
                backgroundColor: [color, 'lightgrey'], // 게이지 색상과 나머지 부분 색상
                borderWidth: 0
            }]
        },
        options: {
            circumference: 180,
            rotation: 270,
            cutoutPercentage: 80,
            tooltips: { enabled: false },
            hover: { mode: null },
            title: {
                display: true,
                text: label
            }
        }
    });
}

// 차트 데이터 로드
loadChartData();


    </script>
</body>
</html>
